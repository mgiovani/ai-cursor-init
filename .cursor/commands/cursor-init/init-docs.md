# Initialize Project Documentation

Generate comprehensive documentation structure for your project based on detected technologies and configuration.

## What This Does

1. **Configuration Check**: Reads `.cursor-init.yaml` for opt-out settings and template preferences
2. **Framework Detection**: Analyzes codebase to determine relevant documentation types:
   - **Core Documentation** (always relevant): architecture, onboarding, adr
   - **Data Documentation** (if database models found): data_model, database_ops, data_security
   - **Infrastructure Documentation** (if deployment configs found): deployment, dependencies, security
   - **Development Documentation** (if collaborative project detected): rfc, contributing, api_docs
3. **Filter by Configuration**: Checks which relevant documentation types are explicitly disabled and skips those
4. **Template Selection**: Loads appropriate templates from `.cursor/cursor-init/templates/` or custom paths
5. **Smart Generation**: Creates only relevant documentation (skips explicitly disabled types)

## Documentation Types

### Core Documentation (Always Relevant)
- `docs/architecture.md` - System architecture overview (unless `documentation.core.architecture: false`)
- `docs/onboarding.md` - Developer onboarding guide (unless `documentation.core.onboarding: false`)
- `docs/adr/` - Architecture Decision Records (unless `documentation.core.adr: false`)

### Data Documentation (Generated if Database Detected)
- `docs/data-model.md` - Database schema & ER diagrams (unless `documentation.data.data_model: false`)
- `docs/database-ops.md` - Database operations guide (unless `documentation.data.database_ops: false`)
- `docs/data-security.md` - Data security policies (unless `documentation.data.data_security: false`)

### Infrastructure Documentation (Generated if Deployment Configs Found)
- `docs/deployment.md` - CI/CD & deployment procedures (unless `documentation.infrastructure.deployment: false`)
- `docs/dependencies.md` - External service dependencies (unless `documentation.infrastructure.dependencies: false`)
- `docs/security.md` - Security architecture (unless `documentation.infrastructure.security: false`)

### Development Documentation (Generated if Collaborative Project)
- `docs/rfc/` - Request For Comments documents (unless `documentation.development.rfc: false`)
- `docs/contributing.md` - Contributor guidelines (unless `documentation.development.contributing: false`)
- `docs/api-documentation.md` - API documentation (unless `documentation.development.api_docs: false`)

## Configuration

Customize via `.cursor-init.yaml`:

```yaml
# Opt-out configuration (documentation generated by default if relevant)
documentation:
  core:
    architecture: true    # System overview
    onboarding: true     # Developer setup
    adr: true           # Architecture decisions
  data:
    data_model: true    # Database schema (auto-detected)
  infrastructure:
    deployment: false   # Explicitly disabled
  development:
    contributing: false # Explicitly disabled

# Template variants
templates:
  architecture: "google_style"  # Options: google_style, enterprise, arc42
  adr: "nygard_style"           # Options: nygard_style, full, lightweight, madr
  onboarding: "developer"       # Options: developer, contributor, user
  data_model: "comprehensive"   # Options: simple, comprehensive
  rfc: "standard"               # Options: minimal, standard, detailed

# Custom template paths (optional)
templates:
  custom_template_paths:
    # adr: "path/to/custom/adr-template.md"
```

## Usage

Basic initialization:
```
/init-docs
```

With additional context:
```
/init-docs for Python microservice project
```

## Process

I will:
1. Check for `.cursor-init.yaml` configuration file
2. Use codebase search to detect project's technology stack
3. Determine which documentation types are relevant to this project
4. Filter out documentation types that are explicitly disabled in configuration
5. Create the `docs/` directory and required subdirectories if they don't exist
6. Load appropriate template files from `.cursor/cursor-init/templates/` based on configuration
7. Generate documentation files with placeholder replacement (PROJECT_NAME, DATE, etc.)
8. Report what documentation was created

## Configuration Handling (Opt-Out Behavior)

- If `.cursor-init.yaml` doesn't exist, I will generate all relevant documentation based on project analysis
- Documentation is generated by default if relevant to the project
- Only explicitly disabled types (`false` in config) will be skipped
- AI determines relevance, configuration only disables

## Existing Files

If any documentation files already exist, I will ask for your confirmation before overwriting them.

---

**Template Location**: `.cursor/cursor-init/templates/`
**Configuration File**: `.cursor-init.yaml` (optional)
